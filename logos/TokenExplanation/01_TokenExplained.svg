<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400">
  <defs>
    <!-- Gradient for context window header -->
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366F1"/>
      <stop offset="100%" style="stop-color:#8B5CF6"/>
    </linearGradient>

    <!-- Input section gradient -->
    <linearGradient id="inputGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6"/>
      <stop offset="100%" style="stop-color:#1D4ED8"/>
    </linearGradient>

    <!-- Output section gradient -->
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="600" height="400" fill="#1E1E2E"/>

  <!-- Main container -->
  <rect x="30" y="20" width="540" height="360" rx="12" fill="#2A2A3E" stroke="#4A4A6A" stroke-width="2"/>

  <!-- Header: Context Window -->
  <rect x="30" y="20" width="540" height="50" rx="12" fill="url(#headerGradient)"/>
  <rect x="30" y="45" width="540" height="25" fill="url(#headerGradient)"/>
  <text x="300" y="52" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="bold" fill="white">CONTEXT WINDOW</text>
  <text x="300" y="52" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="bold" fill="white">CONTEXT WINDOW</text>

  <!-- Token count badge -->
  <rect x="430" y="30" width="120" height="28" rx="14" fill="rgba(255,255,255,0.2)"/>
  <text x="490" y="49" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="white">e.g. 16K tokens</text>

  <!-- Input Section -->
  <rect x="50" y="90" width="250" height="200" rx="10" fill="url(#inputGradient)" opacity="0.9"/>
  <text x="175" y="120" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="white">INPUT</text>

  <!-- Input items -->
  <g font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#E0E7FF">
    <circle cx="75" cy="150" r="4" fill="#60A5FA"/>
    <text x="90" y="155">System prompt</text>

    <circle cx="75" cy="180" r="4" fill="#60A5FA"/>
    <text x="90" y="185">Page content</text>

    <circle cx="75" cy="210" r="4" fill="#60A5FA"/>
    <text x="90" y="215">Chat history</text>

    <circle cx="75" cy="240" r="4" fill="#60A5FA"/>
    <text x="90" y="245">Tool definitions</text>
  </g>

  <!-- Output Section -->
  <rect x="320" y="90" width="230" height="200" rx="10" fill="url(#outputGradient)" opacity="0.9"/>
  <text x="435" y="120" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="white">OUTPUT</text>

  <!-- Output items -->
  <g font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#D1FAE5">
    <circle cx="345" cy="150" r="4" fill="#34D399"/>
    <text x="360" y="155">LLM response</text>

    <circle cx="345" cy="180" r="4" fill="#34D399"/>
    <text x="360" y="185">Tool calls</text>
  </g>

  <!-- Plus sign between sections -->
  <circle cx="310" cy="190" r="18" fill="#2A2A3E" stroke="#6366F1" stroke-width="2"/>
  <text x="310" y="196" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="20" font-weight="bold" fill="#A5B4FC">+</text>

  <!-- Footer message -->
  <rect x="50" y="310" width="500" height="50" rx="8" fill="#3B3B5C"/>
  <text x="300" y="341" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#C4B5FD">
    INPUT + OUTPUT must fit within CONTEXT WINDOW
  </text>

  <!-- Decorative arrows showing flow -->
  <path d="M175 270 L175 295 L300 295" stroke="#60A5FA" stroke-width="2" fill="none" stroke-dasharray="4,2"/>
  <path d="M435 270 L435 295 L300 295" stroke="#34D399" stroke-width="2" fill="none" stroke-dasharray="4,2"/>
  <circle cx="300" cy="295" r="5" fill="#A5B4FC"/>
</svg>
